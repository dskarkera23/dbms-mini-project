<!DOCTYPE html>
<html lang="en">
 {% load static %}
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
      <title>Health & Fitness Tracker - Signup</title>
      <link rel="shortcut icon" href="{% static 'assets/img/image (2).png' %}">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,500;0,600;0,700;1,400&amp;display=swap">
      <link rel="stylesheet" href="{% static 'assets/plugins/bootstrap/css/bootstrap.min.css' %}">
      <link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/fontawesome.min.css' %}">
      <link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/all.min.css' %}">
      <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
   </head>
   <body>
      <div class="main-wrapper login-body">
         <div class="login-wrapper">
            <div class="container">
               <div class="loginbox">
                  <div class="login-left">
                     <h3 class="title">Health & Fitness Tracker</h3>
                  </div>
                  <div class="login-right">
                     <div class="login-right-wrap">

                        {% if messages %}
                         {% for message in messages %}
                           {% if message.tags == 'error' %}
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                           {{message}}
                           <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                           </button>
                        </div>
                           {% endif %}
                         {% endfor %}
                        {% endif %}
                          <h2>Sign up</h2>
                           <form method="post" action="{% url 'signup' %}">
                                {% csrf_token %}
                                {{ form.as_p }}
                                {% if form.role.value == 'user' %}
                                  {# Add trainer selection for users #}
                                  <label for="id_trainer">Select Trainer:</label>
                                  <select name="trainer" id="id_trainer">
                                    <option value="" selected>---------</option>
                                    {# Add options for trainers dynamically #}
                                    {% for trainer in trainers %}
                                      <option value="{{ trainer.id }}">{{ trainer.user.username }}</option>
                                    {% endfor %}
                                  </select>
                                {% endif %}
                                <button type="submit">Sign up</button>
                           </form>
                        </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <script src="{% static 'assets/js/jquery-3.6.0.min.js' %}"></script>
      <script src="{% static 'assets/js/popper.min.js' %}"></script>
      <script src="{% static 'assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>
      <script src="{% static 'assets/js/script.js' %}"></script>
   </body>

</html>